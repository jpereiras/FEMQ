
# Manual de Uso - Proyecto FEM Q4 Modular en Python

Este proyecto implementa un anÃ¡lisis por el MÃ©todo de los Elementos Finitos (FEM) en 2D usando elementos cuadrilÃ¡teros de 4 nodos (Q4), compatible con diferentes condiciones de anÃ¡lisis: tensiÃ³n plana (CPS4), deformaciÃ³n plana (CPE4) y simetrÃ­a axial (CAX4).

---

## ğŸ“ Estructura del Proyecto

```
FEM_Q4_Modular/
â”œâ”€â”€ input_data.json              # ParÃ¡metros del material y tipo de anÃ¡lisis
â”œâ”€â”€ main.py                      # Script principal que ejecuta el anÃ¡lisis
â”œâ”€â”€ output_data.json             # Resultados exportados (desplazamientos)
â”œâ”€â”€ Model_nodos_<caso>.sal       # Coordenadas de los nodos
â”œâ”€â”€ Model_elem_<caso>.sal        # Conectividades de los elementos
â”œâ”€â”€ Model_bc_<caso>.sal          # Condiciones de contorno
â”œâ”€â”€ Model_load_<caso>.sal        # Cargas aplicadas
â””â”€â”€ modules/                     # CÃ³digo modular
    â”œâ”€â”€ elements.py              # Ensamblaje FEM y matriz constitutiva
    â”œâ”€â”€ elements_utils.py        # CÃ¡lculo de matriz B y rigidez elemental
    â”œâ”€â”€ shape_functions.py       # Funciones de forma Q4
    â”œâ”€â”€ postprocessing.py        # GrÃ¡ficos de malla, desplazamientos y tensiones
    â””â”€â”€ io_utils.py              # Lectura de archivos, solver y exportaciÃ³n
```

---

## ğŸ“˜ Archivos de entrada

### `input_data.json`

Define los parÃ¡metros del problema:

```json
{
    "E": 210000,
    "nu": 0.3,
    "type": "CPS4",
    "problemName": "disc_r6t8"
}
```

- `E`: MÃ³dulo de Young [MPa]
- `nu`: Coeficiente de Poisson
- `type`: Tipo de anÃ¡lisis (`CPS4`, `CPE4`, `CAX4`)
- `problemName`: Prefijo de los archivos `.sal` del modelo

---

## âš™ï¸ CÃ³mo correr el cÃ³digo

1. AbrÃ­ el proyecto en **Spyder**.
2. Asegurate de que todos los archivos `.sal` e `input_data.json` estÃ©n en el mismo directorio.
3. EjecutÃ¡ `main.py`.
4. Se generarÃ¡ `output_data.json` con los desplazamientos nodales.
5. Se mostrarÃ¡n grÃ¡ficos:
   - Malla con numeraciÃ³n
   - Forma deformada
   - Tensiones Ïƒxx, Ïƒyy, Ïƒxy
   - TensiÃ³n de von Mises

---

## ğŸ” Funciones por mÃ³dulo

### `main.py`
- Orquesta todo el flujo: lectura de entrada, armado, soluciÃ³n, visualizaciÃ³n.

### `elements.py`
- `constitutive_matrix(E, nu, type)`: Devuelve la matriz D para CPS4, CPE4, CAX4.
- `assemble_stiffness_matrix(nodes, elements, D)`: Ensambla la matriz global K.

### `elements_utils.py`
- `compute_B_matrix(...)`: Matriz de deformaciÃ³n B (2x4 â†’ 3x8).
- `compute_element_stiffness(...)`: Matriz de rigidez elemental \( ke \).

### `shape_functions.py`
- `shape_function_Q4(xi, eta)`: Funciones de forma y derivadas en coordenadas naturales.

### `io_utils.py`
- `load_mesh_data(problemName)`: Lee nodos y elementos desde archivos `.sal`.
- `apply_boundary_conditions(...)`: Aplica restricciones desde archivo `.sal`.
- `apply_loads(...)`: Arma el vector de fuerzas F.
- `solve_system(K, F, bc)`: Resuelve el sistema con restricciones.
- `save_results(U, name)`: Guarda desplazamientos en `output_data.json`.

### `postprocessing.py`
- `plot_mesh(...)`: Dibuja malla con numeraciÃ³n opcional.
- `plot_displacements(...)`: Visualiza la forma deformada.
- `plot_stress_component(...)`: Campo de tensiones (Ïƒxx, Ïƒyy, Ïƒxy).
- `plot_von_mises(...)`: Campo de tensiÃ³n equivalente de von Mises.

---

## ğŸ§ª Requisitos

- Python 3.x
- numpy
- matplotlib
- scipy

---

## âœ… Resultado esperado

- Desplazamientos nodales en archivo `.json`
- GrÃ¡ficos automÃ¡ticos de resultados

---

Para extender este cÃ³digo:
- Agregar elementos Q8 en `shape_functions.py`
- Incorporar modelos no lineales en `elements.py`
- Exportar resultados a VTK con `meshio` o `pyvista`

---

Â© Proyecto FEM Q4 Modular - OpenAI + Jose 2025
